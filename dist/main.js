var Client;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){e.preventDefault();const t=document.getElementById("content").value;console.log("::: Form Submitted :::"),Client.getApiKey().then((function(e){console.log("::: getting analysis from Meaning Cloud :::");let n=e.ApiKey;Client.reqToMeaningCloud(n,t).then((function(e){Client.postData("http://localhost:8081/addAnalysis",{agreement:e.agreement,confid:e.confidence,irony:e.irony,subjectivity:e.subjectivity,content:t,remainCredits:e.status.remaining_credits}).then((function(e){Client.updateUI(e)}))}))}))}function o(){const e=document.getElementById("content");e.value=e.value.toLowerCase()}e.r(t),e.d(t,{getApiKey:()=>r,handleSubmit:()=>n,onBlur:()=>o,postData:()=>i,reqToMeaningCloud:()=>a,updateUI:()=>c});const i=async(e="",t={})=>{const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{const e=await n.json();return console.log("::: Analysis post to Server :::"),e}catch(e){console.log("error",e)}},r=async()=>{const e=await fetch("http://localhost:8081/getApiKey");try{const t=await e.json();return console.log("::: ApiKey fetched from Server :::"),t}catch(e){console.log("error",e)}},a=async(e,t)=>{const n=new FormData;n.append("key",e),n.append("txt",t),n.append("lang","en");const o={method:"POST",body:n,redirect:"follow"},i=await fetch("https://api.meaningcloud.com/sentiment-2.1",o);try{const e=await i.json();return console.log("Data fetched from MeaningCloud API:",e),e}catch(e){console.log("error",e)}},c=(e={})=>{console.log("::: get Analysis from Server :::"),document.getElementById("contentText").innerHTML=`Text input: "${e.content}"`,document.getElementById("agreement").innerHTML=`Agreement: ${e.agreement}`,document.getElementById("confidence").innerHTML=`Confidence: ${e.confid}`,document.getElementById("irony").innerHTML=`Irony: ${e.irony}`,document.getElementById("subjectivity").innerHTML=`Subjectivity: ${e.subjectivity}`,document.getElementById("remainCredits").innerHTML=`Opps, only ${e.remainCredits} chances left!`,console.log("::: analysis result updated in webpage :::")};Client=t})();